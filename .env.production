# ============================================================================
# DUITKU PRODUCTION ENVIRONMENT CONFIGURATION
# ============================================================================
# WARNING: This file contains PRODUCTION credentials for LIVE payments
# DO NOT commit this file to Git repository!
# Add to .gitignore: .env.production
# ============================================================================

# ============================================================================
# ENVIRONMENT SETTINGS
# ============================================================================
NEXT_PUBLIC_ENVIRONMENT=production
ENVIRONMENT=production

# ============================================================================
# DUITKU PRODUCTION CREDENTIALS
# ============================================================================
# Merchant Code: D20919 (Your registered Duitku Production Merchant Code)
# API Key: Live production key from Duitku dashboard
# ============================================================================

DUITKU_MERCHANT_CODE=D20919
NEXT_PUBLIC_DUITKU_MERCHANT_CODE=D20919

DUITKU_API_KEY=17d9d5e20fbf4763a44c41a1e95cb7cb
# Note: API Key is SECRET - never expose in client-side code

# ============================================================================
# DUITKU API ENDPOINTS (PRODUCTION)
# ============================================================================
# Documentation: https://docs.duitku.com/pop/en/
# Production API: https://api-prod.duitku.com/api/merchant
# Production Pop JS: https://app-prod.duitku.com/lib/js/duitku.js
# ============================================================================

NEXT_PUBLIC_DUITKU_API_URL=https://api-prod.duitku.com/api/merchant
DUITKU_API_URL=https://api-prod.duitku.com/api/merchant

# ============================================================================
# CALLBACK & RETURN URLs (PRODUCTION)
# ============================================================================
# These URLs MUST be registered in Duitku Dashboard
# Dashboard: https://passport.duitku.com
# ============================================================================

# Callback URL: Receives payment notifications from Duitku (POST)
DUITKU_CALLBACK_URL=https://qjzdzkdwtsszqjvxeiqv.supabase.co/functions/v1/duitku-callback
NEXT_PUBLIC_DUITKU_CALLBACK_URL=https://qjzdzkdwtsszqjvxeiqv.supabase.co/functions/v1/duitku-callback

# Return URL: Where user is redirected after payment
DUITKU_RETURN_URL=https://www.oasis-bi-pro.web.id/payment/success
NEXT_PUBLIC_DUITKU_RETURN_URL=https://www.oasis-bi-pro.web.id/payment/success

# Checkout Edge Function URL
NEXT_PUBLIC_DUITKU_CHECKOUT_URL=https://qjzdzkdwtsszqjvxeiqv.supabase.co/functions/v1/duitku-checkout

# ============================================================================
# SUPABASE CONFIGURATION
# ============================================================================
# Project URL: https://qjzdzkdwtsszqjvxeiqv.supabase.co
# Dashboard: https://supabase.com/dashboard/project/qjzdzkdwtsszqjvxeiqv
# ============================================================================

SUPABASE_URL=https://qjzdzkdwtsszqjvxeiqv.supabase.co
NEXT_PUBLIC_SUPABASE_URL=https://qjzdzkdwtsszqjvxeiqv.supabase.co

# Supabase Anonymous Key (safe for client-side)
NEXT_PUBLIC_SUPABASE_ANON_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InFqemR6a2R3dHNzenFqdnhlaXF2Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjUwNTg1ODUsImV4cCI6MjA4MDYzNDU4NX0.4dMXUCL4ApROfQnQsvV3FtEcWo2-8P5L-dTQkSD0X7I

# Supabase Service Role Key (SECRET - server-side only!)
SUPABASE_SERVICE_ROLE_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InFqemR6a2R3dHNzenFqdnhlaXF2Iiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc2NTA1ODU4NSwiZXhwIjoyMDgwNjM0NTg1fQ.jAnvDikr2-KoswgnWUSeIK5sGxDb5DqlmZpQeU32jAs

# ============================================================================
# WEBSITE CONFIGURATION
# ============================================================================
NEXT_PUBLIC_SITE_URL=https://www.oasis-bi-pro.web.id

# ============================================================================
# IMPORTANT NOTES FOR PRODUCTION DEPLOYMENT
# ============================================================================
# 
# 1. DUITKU DASHBOARD CONFIGURATION:
#    - Login: https://passport.duitku.com
#    - Select Project: D20919
#    - Set Callback URL: https://qjzdzkdwtsszqjvxeiqv.supabase.co/functions/v1/duitku-callback
#    - Ensure project is in PRODUCTION mode (not sandbox)
#
# 2. SUPABASE EDGE FUNCTIONS:
#    Deploy with production environment:
#    $ npx supabase functions deploy duitku-checkout --no-verify-jwt
#    $ npx supabase functions deploy duitku-callback --no-verify-jwt
#
#    Set secrets:
#    $ npx supabase secrets set ENVIRONMENT=production
#    $ npx supabase secrets set DUITKU_MERCHANT_CODE=D20919
#    $ npx supabase secrets set DUITKU_API_KEY=17d9d5e20fbf4763a44c41a1e95cb7cb
#    $ npx supabase secrets set SUPABASE_SERVICE_ROLE_KEY=<your-key>
#    $ npx supabase secrets set DUITKU_CALLBACK_URL=https://qjzdzkdwtsszqjvxeiqv.supabase.co/functions/v1/duitku-callback
#    $ npx supabase secrets set DUITKU_RETURN_URL=https://www.oasis-bi-pro.web.id/payment/success
#
# 3. VERCEL DEPLOYMENT:
#    Set all environment variables in Vercel dashboard
#    Environment: Production
#    $ vercel --prod
#
# 4. TESTING PRODUCTION:
#    - Test with SMALL amounts first (e.g., Rp 10,000)
#    - Monitor Supabase logs: npx supabase functions logs duitku-callback --follow
#    - Check transactions table in Supabase database
#    - Verify real payment in Duitku dashboard
#
# 5. SECURITY:
#    - NEVER commit this file to Git
#    - Use environment-specific secrets in hosting platforms
#    - Regularly rotate API keys
#    - Monitor for suspicious transactions
#
# ============================================================================
